"use strict";var exports = {};Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var isObject=function(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.constructor===Object},isString=function(e){return"string"==typeof e||e instanceof String},objKeysMap=function(e,t){try{Object.keys(e).map(function(e){return t(e)})}catch(e){}},intDate=function(e){var t=new Date,o=new Date(1*t+864e5*e);return parseInt(e)?o:e},contains=function(e,t){return!!isObject(e)&&(Object.keys(e).filter(function(e){return e===t}).toString()===t&&isString(t))},cache={},operator={localstorage:{parser:function(){return window.localStorage},get:function(e){return window.localStorage.getItem(e)},set:function(e,t){return window.localStorage.setItem(e,t)},unset:function(e){try{window.localStorage.removeItem(e)}catch(e){}},clear:function(){objKeysMap(window.localStorage,operator.localstorage.unset)}},sessionstorage:{parser:function(){return window.sessionStorage},get:function(e){return window.sessionStorage.getItem(e)},set:function(e,t){return window.sessionStorage.setItem(e,t)},unset:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}},clear:function(){objKeysMap(window.sessionStorage,operator.sessionstorage.unset)}},cookie:{parser:function(){var e=""!==document.cookie?document.cookie.split("; "):[];if(0!==e.length)return e.map(function(e){return e.split("=")}).reduce(function(e,t){return e[decodeURIComponent(t[0])]=decodeURIComponent(t[1]),e},{})},set:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{expires:"",path:"/",domain:""},r=intDate(o.expires)||"",n=o.path||"",c=o.domain||document.location.hostname;document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+';expires="'+r+'";path='+n+";domain="+c},get:function(e){return cache[e]},unset:function(e){document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;",cache[e]=void 0},clear:function(){objKeysMap(operator.cookie.parser(),operator.cookie.unset),cache={}}}},StorageManagerJs=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"cookie",t=Object.freeze({c:"cookie",l:"localstorage",s:"sessionstorage",cookie:"cookie",localstorage:"localstorage",sessionstorage:"sessionstorage"});return Storage?r=t[r.toLowerCase()]||"cookie":(console.warn("Browser doesn't have support to Storage"),r="cookie"),Object.freeze({get:o,set:n,json:e,clear:function(){return operator[r].clear(),this},unset:c,change:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"cookie";r=contains(t,e)?t[e.toLowerCase().trim()]:"cookie";return cache=operator[r].parser(),this},clearAll:a,cat:o,all:e,item:o,rm:c,touch:n,create:n,getItem:o,setItem:n,delete:c,remove:c,purge:a});function e(){Object.keys(operator[r].parser()).map(function(t){try{return _extends({},object,_defineProperty({},t,JSON.parse(parser[t])))}catch(e){return _extends({},object,_defineProperty({},t,parser[t]))}})}function o(e,t){var o=operator[r].get(e);try{return"raw"===t||"r"===t?o:"array"===t||"a"===t?o.split(","):JSON.parse(o)}catch(e){return o}}function n(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return operator[r].set(e,JSON.stringify(t),o),cache=_extends({},cache,_defineProperty({},e,t)),this}function c(e){return operator[r].unset(e),this}function a(){return["cookie","localstorage","sessionstorage"].forEach(function(e){return operator[e].clear()}),this}};exports.default=StorageManagerJs;
