"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(a){for(var b,d=1,e=arguments.length;d<e;d++)for(var f in b=arguments[d],b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f]);return a},__assign.apply(this,arguments)};exports.__esModule=!0;var isObject=function(a){return a&&"object"==typeof a&&a.constructor===Object},isStr=function(a){return"string"==typeof a||a instanceof String},mapper=function(a,b){try{Object.keys(a).map(function(d){return b(d)})}catch(d){}},fnDate=function(a){var b=new Date,d=new Date(1*b+864e5*a);return!parseInt(a,10)?a:d},has=function(a,b){return!!isObject(a)&&Object.keys(a).filter(function(d){return d===b}).toString()===b&&isStr(b)},c={},op={localstorage:{parser:function(){return window.localStorage},get:function(a){return window.localStorage.getItem(a)},set:function(a,b){return window.localStorage.setItem(a,b)},unset:function(a){try{window.localStorage.removeItem(a)}catch(b){}},clear:function(){mapper(window.localStorage,op.localstorage.unset)}},sessionstorage:{parser:function(){return window.sessionStorage},get:function(a){return window.sessionStorage.getItem(a)},set:function(a,b){return window.sessionStorage.setItem(a,b)},unset:function(a){try{window.sessionStorage.removeItem(a)}catch(b){}},clear:function(){mapper(window.sessionStorage,op.sessionstorage.unset)}},cookie:{parser:function(){var a=""===document.cookie?[]:document.cookie.split("; ");return 0===a.length?void 0:a.map(function(b){return b.split("=")}).reduce(function(b,d){return b[decodeURIComponent(d[0])]=decodeURIComponent(d[1]),b},{})},set:function(a,b,d){void 0===d&&(d={expires:"",path:"/",domain:""});var e=fnDate(d.expires)||"",f=d.path||"",g=d.domain||document.location.hostname;document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";expires=\""+e+"\";path="+f+";domain="+g},get:function(a){return c[a]},unset:function(a){document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;",c[a]=void 0},clear:function(){mapper(op.cookie.parser(),op.cookie.unset),c={}}}};function StorageManagerJs(a){function b(){var l=op[a].parser();Object.keys(l).map(function(m){var o,q;try{return o={},o[m]=JSON.parse(l[m]),o}catch(r){return q={},q[m]=l[m],q}})}function e(l,m){var o=op[a].get(l);try{return"raw"===m||"r"===m?o:"array"===m||"a"===m?o.split(","):JSON.parse(o)}catch(q){return o}}function f(l,m,o){void 0===o&&(o="");var q;return op[a].set(l,JSON.stringify(m),o),c=__assign({},c,(q={},q[l]=m,q)),this}function g(l){return op[a].unset(l),this}function j(){return["cookie","localstorage","sessionstorage"].forEach(function(l){return op[l].clear()}),this}void 0===a&&(a="cookie");var k=Object.freeze({c:"cookie",l:"localstorage",s:"sessionstorage",cookie:"cookie",localstorage:"localstorage",sessionstorage:"sessionstorage"});return Storage?a=k[a.toLowerCase()]||"cookie":(console.warn("Browser doesn't have support to Storage"),a="cookie"),Object.freeze({get:e,set:f,json:b,clear:function(){return op[a].clear(),this},unset:g,change:function(l){return void 0===l&&(l="cookie"),a=has(k,l)?k[l.toLowerCase().trim()]:"cookie",c=op[a].parser(),this},clearAll:j,cat:e,all:b,item:e,rm:g,touch:f,create:f,getItem:e,setItem:f,"delete":g,remove:g,purge:j})}exports["default"]=StorageManagerJs;
